(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{966:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var l=t(5155),a=t(2115),r=t(6766),i=t(5695),n=t(4905),d=t(5112);let c={name:"Sunset Cafe",type:"Restaurant",location:"New York, NY",description:"Family-owned cafe serving breakfast and lunch"},o=[{id:1,title:"Top 5 Summer Dishes in New York",description:"Highlight your refreshing summer menu items with beautiful photography"},{id:2,title:"Weekend Brunch Special",description:"Promote your weekend brunch offerings with a special discount"},{id:3,title:"Local Ingredients Spotlight",description:"Feature posts about your locally-sourced ingredients and suppliers"}],x=[{id:1,title:"New Summer Menu Launch",description:"Check out our refreshing new summer items!",imageUrl:"https://placehold.co/600x400",status:"published",scheduledFor:"2023-06-15T10:00:00Z",engagement:{likes:45,comments:12,shares:8}},{id:2,title:"Weekend Special: 20% Off",description:"Join us this weekend for special discounts on all desserts",imageUrl:"https://placehold.co/600x400",status:"draft",scheduledFor:"2023-06-18T09:00:00Z",engagement:{likes:0,comments:0,shares:0}}],m={totalPosts:24,totalEngagement:1250,topPerforming:"New Summer Menu Launch",recentGrowth:"+15%"};function h(){let[e,s]=(0,a.useState)("overview"),[t,h]=(0,a.useState)(!1),[u,g]=(0,a.useState)(null),p=(0,i.useRouter)(),{user:j,isLoading:b}=(0,d.A)(),N=async()=>{p.push("/posts?create=true")},f=e=>{p.push("/posts?create=true&title=".concat(encodeURIComponent(e.title),"&description=").concat(encodeURIComponent(e.description)))};return b?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto"}),(0,l.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)("header",{className:"bg-white shadow",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Social Media Manager"}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("button",{onClick:N,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 ".concat(t?"opacity-75 cursor-not-allowed":""),children:t?"Creating...":"+ New Post"}),(0,l.jsx)(n.A,{})]})]})}),u&&(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4",children:(0,l.jsx)("div",{className:"bg-red-50 p-4 rounded-md",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,l.jsx)("div",{className:"ml-3",children:(0,l.jsx)("p",{className:"text-sm text-red-700",children:u})})]})})}),(0,l.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,l.jsxs)("nav",{className:"flex space-x-8",children:[(0,l.jsx)("button",{onClick:()=>s("overview"),className:"pb-4 px-1 border-b-2 font-medium text-sm ".concat("overview"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Overview"}),(0,l.jsx)("button",{onClick:()=>s("content"),className:"pb-4 px-1 border-b-2 font-medium text-sm ".concat("content"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Content Ideas"}),(0,l.jsx)("button",{onClick:()=>s("posts"),className:"pb-4 px-1 border-b-2 font-medium text-sm ".concat("posts"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Posts"}),(0,l.jsx)("button",{onClick:()=>s("analytics"),className:"pb-4 px-1 border-b-2 font-medium text-sm ".concat("analytics"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Analytics"})]})}),"overview"===e&&(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"col-span-1 bg-white rounded-lg shadow p-6",children:[(0,l.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Business Profile"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Business Name"}),(0,l.jsx)("p",{className:"font-medium",children:c.name})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Type"}),(0,l.jsx)("p",{className:"font-medium",children:c.type})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Location"}),(0,l.jsx)("p",{className:"font-medium",children:c.location})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Description"}),(0,l.jsx)("p",{className:"font-medium",children:c.description})]}),(0,l.jsx)("button",{className:"text-sm text-blue-600 hover:text-blue-800",children:"Edit Profile"})]})]}),(0,l.jsxs)("div",{className:"col-span-2 grid grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Posts"}),(0,l.jsx)("p",{className:"text-3xl font-bold",children:m.totalPosts}),(0,l.jsx)("div",{className:"mt-2 flex items-center text-sm text-green-600",children:(0,l.jsx)("span",{children:"↑ 12% from last month"})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Engagement"}),(0,l.jsx)("p",{className:"text-3xl font-bold",children:m.totalEngagement}),(0,l.jsx)("div",{className:"mt-2 flex items-center text-sm text-green-600",children:(0,l.jsx)("span",{children:"↑ 8% from last month"})})]}),(0,l.jsxs)("div",{className:"col-span-2 bg-white rounded-lg shadow p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,l.jsx)("span",{className:"text-sm",children:"New post scheduled for tomorrow at 9:00 AM"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),(0,l.jsx)("span",{className:"text-sm",children:"3 new content ideas generated based on your location"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),(0,l.jsx)("span",{className:"text-sm",children:"Your last post received 45 likes and 12 comments"})]})]})]})]})]}),"content"===e&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Content Ideas"}),(0,l.jsx)("button",{onClick:()=>p.push("/content-ideas"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Generate New Ideas"})]}),(0,l.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,l.jsx)("ul",{className:"divide-y divide-gray-200",children:o.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e.description})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:()=>f(e),className:"px-3 py-1 bg-green-100 text-green-800 rounded-md text-sm",children:"Use Idea"}),(0,l.jsx)("button",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-md text-sm",children:"Save"})]})]})})},e.id))})})]}),"posts"===e&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Manage Posts"}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsxs)("select",{className:"border border-gray-300 rounded-md py-2 px-3 text-sm",children:[(0,l.jsx)("option",{children:"All Posts"}),(0,l.jsx)("option",{children:"Published"}),(0,l.jsx)("option",{children:"Drafts"}),(0,l.jsx)("option",{children:"Scheduled"})]}),(0,l.jsx)("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"+ New Post"})]})]}),(0,l.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,l.jsx)("ul",{className:"divide-y divide-gray-200",children:x.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"flex-shrink-0 mr-4",children:(0,l.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded overflow-hidden",children:e.imageUrl&&(0,l.jsx)("div",{className:"relative w-full h-full",children:(0,l.jsx)(r.default,{src:e.imageUrl,alt:e.title,fill:!0,className:"object-cover"})})})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("published"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"published"===e.status?"Published":"Draft"})]}),(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e.description}),(0,l.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:["published"===e.status?"Published on ":"Scheduled for ",new Date(e.scheduledFor).toLocaleDateString()]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:["published"===e.status&&(0,l.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsxs)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,l.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),e.engagement.likes]}),(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),e.engagement.comments]}),(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),e.engagement.shares]})]}),(0,l.jsx)("button",{className:"text-sm text-blue-600 hover:text-blue-800",children:"Edit"})]})]})]})]})})},e.id))})})]}),"analytics"===e&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Analytics"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Overview"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Total Posts"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:m.totalPosts})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Total Engagement"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:m.totalEngagement})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Top Performing Post"}),(0,l.jsx)("p",{className:"font-medium",children:m.topPerforming})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Recent Growth"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-green-600",children:m.recentGrowth})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Engagement Breakdown"}),(0,l.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-100 rounded",children:(0,l.jsx)("p",{className:"text-gray-500",children:"Chart Placeholder"})}),(0,l.jsxs)("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[(0,l.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Likes"}),(0,l.jsx)("p",{className:"text-xl font-bold text-blue-600",children:"756"})]}),(0,l.jsxs)("div",{className:"bg-green-50 p-3 rounded",children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Comments"}),(0,l.jsx)("p",{className:"text-xl font-bold text-green-600",children:"384"})]}),(0,l.jsxs)("div",{className:"bg-purple-50 p-3 rounded",children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Shares"}),(0,l.jsx)("p",{className:"text-xl font-bold text-purple-600",children:"110"})]})]})]}),(0,l.jsxs)("div",{className:"col-span-1 md:col-span-2 bg-white rounded-lg shadow p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Audience Demographics"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Age Distribution"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-sm w-16",children:"18-24"}),(0,l.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"30%"}})}),(0,l.jsx)("span",{className:"text-sm w-10 text-right",children:"30%"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-sm w-16",children:"25-34"}),(0,l.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"45%"}})}),(0,l.jsx)("span",{className:"text-sm w-10 text-right",children:"45%"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-sm w-16",children:"35-44"}),(0,l.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"15%"}})}),(0,l.jsx)("span",{className:"text-sm w-10 text-right",children:"15%"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-sm w-16",children:"45+"}),(0,l.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"10%"}})}),(0,l.jsx)("span",{className:"text-sm w-10 text-right",children:"10%"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Location"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-sm w-24",children:"New York"}),(0,l.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"60%"}})}),(0,l.jsx)("span",{className:"text-sm w-10 text-right",children:"60%"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-sm w-24",children:"Brooklyn"}),(0,l.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"20%"}})}),(0,l.jsx)("span",{className:"text-sm w-10 text-right",children:"20%"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-sm w-24",children:"Queens"}),(0,l.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"15%"}})}),(0,l.jsx)("span",{className:"text-sm w-10 text-right",children:"15%"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-sm w-24",children:"Other"}),(0,l.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"5%"}})}),(0,l.jsx)("span",{className:"text-sm w-10 text-right",children:"5%"})]})]})]})]})]})]})]})]})]})}},995:(e,s,t)=>{Promise.resolve().then(t.bind(t,966))},4905:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var l=t(5155),a=t(2115),r=t(5112),i=t(6874),n=t.n(i),d=t(5956);function c(){let{user:e,signOut:s}=(0,r.A)(),[t,i]=(0,a.useState)(!1),[c,o]=(0,a.useState)(!1),x=async()=>{await s(),o(!1)};return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("button",{onClick:()=>{e?o(!c):i(!0)},className:"flex items-center text-gray-700 hover:text-gray-900 focus:outline-none",children:e?(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white",children:e.name?e.name.charAt(0).toUpperCase():"U"}),(0,l.jsx)("span",{className:"ml-2 hidden md:block",children:e.name||e.email}),(0,l.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:c?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})})]}):(0,l.jsx)("span",{className:"text-blue-600 hover:text-blue-800",children:"Sign In"})}),c&&(0,l.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10",children:(0,l.jsxs)("div",{className:"py-1",children:[(0,l.jsx)(n(),{href:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:"Profile"}),(0,l.jsx)("button",{onClick:x,className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign Out"})]})}),t&&(0,l.jsx)(d.A,{onClose:()=>i(!1)})]})}},5112:(e,s,t)=>{"use strict";t.d(s,{O:()=>o,A:()=>x});var l=t(5155),a=t(2115),r=t(5695),i=t(3464);let n=(0,t(851).UU)("https://zfodljvahdxaaihgtcfo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpmb2RsanZhaGR4YWFpaGd0Y2ZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ0NDg1MjQsImV4cCI6MjA2MDAyNDUyNH0.m24K7-5fJ33jw9ZR-SA2-ZOxrB5xRBu3ZKDoYh2ndn8"),d=(0,a.createContext)(void 0),c=["/dashboard","/posts","/profile"];function o(e){let{children:s}=e,[t,o]=(0,a.useState)(null),[x,m]=(0,a.useState)(!0),h=(0,r.useRouter)(),u=(0,r.usePathname)();(0,a.useEffect)(()=>{m(!0);let e=localStorage.getItem("authUser");if(e)try{o(JSON.parse(e))}catch(e){console.error("Error parsing saved user:",e),localStorage.removeItem("authUser")}m(!1)},[]),(0,a.useEffect)(()=>{!c.some(e=>null==u?void 0:u.startsWith(e))||x||t||h.push("/")},[u,x,t,h]);let g=async(e,s)=>{try{m(!0);let t=await i.A.post("/api/auth/signin",{email:e,password:s}),l=t.data;if(t.data.user)o(t.data.user),localStorage.setItem("authUser",JSON.stringify(t.data.user)),await n.auth.setSession({access_token:l.session.access_token,refresh_token:l.session.refresh_token});else throw Error("Invalid credentials");return}catch(e){throw console.error("Error signing in:",e),e}finally{m(!1)}},p=async(e,s,t)=>{try{m(!0);let l=await i.A.post("/api/auth/signup",{email:e,password:s,name:t||e.split("@")[0]});if(l.data.success)return{success:!0};return{success:!1,error:l.data.error||"Registration failed"}}catch(e){var l,a;return console.error("Error signing up:",e),{success:!1,error:(null==(a=e.response)||null==(l=a.data)?void 0:l.error)||e.message||"Registration failed"}}finally{m(!1)}},j=async()=>{try{o(null),localStorage.removeItem("authUser"),h.push("/")}catch(e){throw console.error("Error signing out:",e),e}};return(0,l.jsx)(d.Provider,{value:{user:t,isLoading:x,signIn:g,signUp:p,signOut:j,isAuthenticated:!!t},children:s})}function x(){let e=(0,a.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5956:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var l=t(5155),a=t(2115),r=t(5112);function i(e){let{onClose:s}=e,[t,i]=(0,a.useState)("login"),[n,d]=(0,a.useState)(""),[c,o]=(0,a.useState)(""),[x,m]=(0,a.useState)(""),[h,u]=(0,a.useState)(!1),[g,p]=(0,a.useState)(""),[j,b]=(0,a.useState)(""),{signIn:N,signUp:f}=(0,r.A)(),v=async e=>{e.preventDefault(),u(!0),p(""),b("");try{if("login"===t)await N(n,c),console.log("User logged in successfully"),s();else{let{success:e,error:s}=await f(n,c,x);if(console.log("Registration result:",{success:e,signUpError:s}),!e)return void p(s||"Registration failed. Please try again.");b("Registration successful! You can now sign in with your credentials."),d(""),o(""),m("")}}catch(e){console.error("Authentication error:",e),p(e.message||"Authentication failed. Please try again.")}finally{u(!1)}};return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",children:"login"===t?"Sign In":"Create Account"}),(0,l.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"flex border-b mb-4",children:[(0,l.jsx)("button",{className:"py-2 px-4 ".concat("login"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"),onClick:()=>i("login"),children:"Sign In"}),(0,l.jsx)("button",{className:"py-2 px-4 ".concat("register"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"),onClick:()=>i("register"),children:"Register"})]}),g&&(0,l.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:g}),j&&(0,l.jsx)("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:j}),(0,l.jsxs)("form",{onSubmit:v,children:["register"===t&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"name",className:"block text-gray-700 mb-2",children:"Name"}),(0,l.jsx)("input",{type:"text",id:"name",value:x,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your name"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"email",className:"block text-gray-700 mb-2",children:"Email"}),(0,l.jsx)("input",{type:"email",id:"email",value:n,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com",required:!0})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{htmlFor:"password",className:"block text-gray-700 mb-2",children:"Password"}),(0,l.jsx)("input",{type:"password",id:"password",value:c,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"••••••••",required:!0})]}),(0,l.jsx)("button",{type:"submit",disabled:h,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:h?"Please wait...":"login"===t?"Sign In":"Create Account"})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[464,125,874,766,441,684,358],()=>s(995)),_N_E=e.O()}]);