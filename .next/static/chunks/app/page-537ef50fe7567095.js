(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(5155),a=t(2115),n=t(5695),l=t(5112),o=t(5956);function i(){let{user:e,isLoading:s}=(0,l.A)(),[t,i]=(0,a.useState)(!1),c=(0,n.useRouter)();return((0,a.useEffect)(()=>{e&&!s&&c.push("/dashboard")},[e,s,c]),s)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Social Media Manager"}),(0,r.jsx)("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Sign In"})]})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[(0,r.jsxs)("div",{className:"text-center mb-16",children:[(0,r.jsx)("h2",{className:"text-4xl font-extrabold text-gray-900 sm:text-5xl",children:"Manage Your Social Media Content"}),(0,r.jsx)("p",{className:"mt-4 text-xl text-gray-500 max-w-3xl mx-auto",children:"Create, schedule, and track your social media posts from one place. Get content ideas and analytics to grow your audience."}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)("button",{onClick:()=>i(!0),className:"px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 md:py-4 md:text-lg md:px-10",children:"Get Started"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsx)("div",{className:"text-blue-600 mb-4",children:(0,r.jsx)("svg",{className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Create Posts"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Create engaging posts with images, formatting, and links."})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsx)("div",{className:"text-blue-600 mb-4",children:(0,r.jsx)("svg",{className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Schedule Content"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Plan and schedule your content calendar in advance."})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsx)("div",{className:"text-blue-600 mb-4",children:(0,r.jsx)("svg",{className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Track Analytics"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Monitor engagement and performance of your posts."})]})]})]}),t&&(0,r.jsx)(o.A,{onClose:()=>i(!1)})]})}},2557:(e,s,t)=>{Promise.resolve().then(t.bind(t,1057))},5112:(e,s,t)=>{"use strict";t.d(s,{O:()=>d,A:()=>u});var r=t(5155),a=t(2115),n=t(5695),l=t(3464);let o=(0,t(851).UU)("https://zfodljvahdxaaihgtcfo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpmb2RsanZhaGR4YWFpaGd0Y2ZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ0NDg1MjQsImV4cCI6MjA2MDAyNDUyNH0.m24K7-5fJ33jw9ZR-SA2-ZOxrB5xRBu3ZKDoYh2ndn8"),i=(0,a.createContext)(void 0),c=["/dashboard","/posts","/profile"];function d(e){let{children:s}=e,[t,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!0),h=(0,n.useRouter)(),x=(0,n.usePathname)();(0,a.useEffect)(()=>{m(!0);let e=localStorage.getItem("authUser");if(e)try{d(JSON.parse(e))}catch(e){console.error("Error parsing saved user:",e),localStorage.removeItem("authUser")}m(!1)},[]),(0,a.useEffect)(()=>{!c.some(e=>null==x?void 0:x.startsWith(e))||u||t||h.push("/")},[x,u,t,h]);let g=async(e,s)=>{try{m(!0);let t=await l.A.post("/api/auth/signin",{email:e,password:s}),r=t.data;if(t.data.user)d(t.data.user),localStorage.setItem("authUser",JSON.stringify(t.data.user)),await o.auth.setSession({access_token:r.session.access_token,refresh_token:r.session.refresh_token});else throw Error("Invalid credentials");return}catch(e){throw console.error("Error signing in:",e),e}finally{m(!1)}},b=async(e,s,t)=>{try{m(!0);let r=await l.A.post("/api/auth/signup",{email:e,password:s,name:t||e.split("@")[0]});if(r.data.success)return{success:!0};return{success:!1,error:r.data.error||"Registration failed"}}catch(e){var r,a;return console.error("Error signing up:",e),{success:!1,error:(null==(a=e.response)||null==(r=a.data)?void 0:r.error)||e.message||"Registration failed"}}finally{m(!1)}},p=async()=>{try{d(null),localStorage.removeItem("authUser"),h.push("/")}catch(e){throw console.error("Error signing out:",e),e}};return(0,r.jsx)(i.Provider,{value:{user:t,isLoading:u,signIn:g,signUp:b,signOut:p,isAuthenticated:!!t},children:s})}function u(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5956:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var r=t(5155),a=t(2115),n=t(5112);function l(e){let{onClose:s}=e,[t,l]=(0,a.useState)("login"),[o,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),[g,b]=(0,a.useState)(""),[p,f]=(0,a.useState)(""),{signIn:j,signUp:v}=(0,n.A)(),y=async e=>{e.preventDefault(),x(!0),b(""),f("");try{if("login"===t)await j(o,c),console.log("User logged in successfully"),s();else{let{success:e,error:s}=await v(o,c,u);if(console.log("Registration result:",{success:e,signUpError:s}),!e)return void b(s||"Registration failed. Please try again.");f("Registration successful! You can now sign in with your credentials."),i(""),d(""),m("")}}catch(e){console.error("Authentication error:",e),b(e.message||"Authentication failed. Please try again.")}finally{x(!1)}};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"login"===t?"Sign In":"Create Account"}),(0,r.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"flex border-b mb-4",children:[(0,r.jsx)("button",{className:"py-2 px-4 ".concat("login"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"),onClick:()=>l("login"),children:"Sign In"}),(0,r.jsx)("button",{className:"py-2 px-4 ".concat("register"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"),onClick:()=>l("register"),children:"Register"})]}),g&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:g}),p&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:p}),(0,r.jsxs)("form",{onSubmit:y,children:["register"===t&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-gray-700 mb-2",children:"Name"}),(0,r.jsx)("input",{type:"text",id:"name",value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your name"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-gray-700 mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",value:o,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com",required:!0})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-gray-700 mb-2",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"••••••••",required:!0})]}),(0,r.jsx)("button",{type:"submit",disabled:h,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:h?"Please wait...":"login"===t?"Sign In":"Create Account"})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[464,125,441,684,358],()=>s(2557)),_N_E=e.O()}]);